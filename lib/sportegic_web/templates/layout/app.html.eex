<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Sportegic</title>
    <link rel="stylesheet" href="<%= Routes.static_path(@conn, "/css/app.css") %>"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body >
    <header>
      <div class="row nav-custom">
      <div class="col s12 remove-right-padding">   
          <div class="nav-wrapper hide-on-large-only ">
            <div class="row ">
                  <div class="col s12 center-align">
                    <a href="#" data-target="slide-out" class="left small-screen-menu-triggers  sidenav-trigger  grey-text"><i class="fas fa-bars fa-2x fa-fw"></i></a>
                    <a href="#" class="small-screen-logo center-align grey-text lighten-2"><%= organisation_name(@conn.assigns.organisation) %></a>
                    <a id="profile" class='right small-screen-menu-triggers sidenav-trigger dropdown-trigger grey-text lighten-2 center-align' href='#' data-target='profileDropdown'><i class="material-icons ">account_circle</i> </a>
                    <!-- Profile Dropdown Structure -->
                    <ul id='profileDropdown' class='dropdown-content'>
                      <%= if Enum.count(@conn.assigns.current_user.organisations) > 1 do %>
                        <li class=""><a class="grey-text lighten-2 li-dropdown-custom center-align" href="/organisation">Switch Organisation</a></li>
                      <% end %>
                      <li class=""><a class="grey-text lighten-2 li-dropdown-custom center-align" href="/organisation/new">Create Organisation</a></li>
                      <li class="divider li-dropdown-custom" ></li>
                      <li class=""><a class="grey-text lighten-2 li-dropdown-custom center-align" href="/logout">Logout</a></li>
                    </ul>
                  </div>
                </div>
          
          </div>

          <nav class="white z-depth-0 hide-on-med-and-down">
            <div class="nav-wrapper ">

                <ul id="nav-mobile" class="right">
                  <li><a href="" class="valign-wrapper grey-text lighten-2"> <i class="material-icons left"> inbox</i> Inbox</i></a></li>
                  <!-- Profile Dropdown Trigger -->
                  <li class="">
                    <a id="profile-large" class='li-custom dropdown-trigger grey-text lighten-2 valign-wrapper' href='#' data-target='profileDropdownLarge'>
                    <i class="material-icons left">account_circle</i> 
                    <%= @conn.assigns.profile.firstname %> 
                    <i class="material-icons right">expand_more</i> 
                    </a>
                    <!-- Profile Dropdown Structure -->
                    <ul id='profileDropdownLarge' class='dropdown-content '>
                      <%= if Enum.count(@conn.assigns.current_user.organisations) > 1 do %>
                        <li class=""><a class="grey-text lighten-2 li-dropdown-custom center-align" href="/organisation">Switch Organisation</a></li>
                      <% end %>
                      <li class=""><a class="grey-text lighten-2 li-dropdown-custom center-align" href="/organisation/new">Create Organisation</a></li>
                      <li class="divider li-dropdown-custom z-depth-0" ></li>
                      <li class=""><a class="grey-text lighten-2 li-dropdown-custom center-align" href="/logout">Logout</a></li>
                    </ul>
                  
                  </li>
                  <li>
                    <!-- Lang Dropdown Trigger -->
                    <a id="enDropdown" class='dropdown-trigger grey-text lighten-2 li-language  grey lighten-5' href='#' data-target='lang'>En</a>
                    <!-- Lang Dropdown Structure -->
                    <ul id='lang' class='dropdown-content'>
                      <li class=""><a class="grey-text lighten-2 li-dropdown-custom center-align" href="#!">Es</a></li>
                      <li class=""><a class="grey-text lighten-2 li-dropdown-custom center-align" href="#!">Fr</a></li>
                    </ul>
                  
                  </li>
                </ul>
              </div>
            </nav>
          </div>
        
      </div>
      <%# SIDE NAV %>
      <ul id="slide-out" class="sidenav sidenav-fixed z-depth-0 sidenav-custom ">
        <li class="logo">
          <a href="/dashboard" class=" grey-text lighten-2"><h4><%= organisation_name(@conn.assigns.organisation) %></h4></a>
        </li>
        <li class="menu" id="dashboard"><a class="grey-text lighten-2" href="/dashboard"><i class="far fa-chart-line fa-lg fa-fw"></i> Dashboard</a></li>
        <li class="menu" id="people"><a class="grey-text lighten-2" href="#!"><i class="fal fa-user-astronaut fa-lg fa-fw"></i> People</a></li>
        <li class="menu" id="note"><a class="grey-text lighten-2" href="#!"><i class="far fa-comment-alt-lines fa-lg fa-fw"></i> Notes</a></li>
        <li class="menu" id="task"><a class="grey-text lighten-2" href="#!"><i class="far fa-list-alt fa-lg fa-fw"></i> Tasks</a></li>
        
        <li class="">
          <ul class="collapsible collapsible-accordion ">
            <li >
              <a id="administration"  class="collapsible-header grey-text lighten-2 padding-collapsible-header"><i class="fal fa-sliders-h-square fa-lg fa-fw"></i> Administration<i class="material-icons right">expand_more</i></a>
              <div class="collapsible-body">
                <ul>
                  <li ><a id="role" class="menu grey-text lighten-2 padding-collapsible-body" href="/role"><i class="far fa-chevron-right fa-xs fa-fw"></i> Roles</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </li>  
        
      </ul>
    </div>
    </div>  
    </header>
    <main role="main" class="grey-text lighten-2">
      <%= render @view_module, @view_template, assigns %>
    </main>

    <script type="text/javascript" src="<%= Routes.static_path(@conn, "/js/app.js") %>">
      var elems = document.getElementsByClassName("collapsible");
      console.log('Collapsible elements: ', elems)
      M.Collapsible.init(elems, {});
    
    </script>
  </body>
</html>
